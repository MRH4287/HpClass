#!!NAME=subpage
#!!AUTOR=MRH


[!=Main!]

<style type="text/css">
.subpage_container
{
width:600px;
height:auto;
margin:auto;	

border:thin black inset;		
}



</style>

<script type="text/javascript" src="js/tiny_mce/tiny_mce.js"></script>
<script type="text/javascript">
tinyMCE.init({
		// General options
		mode : "textareas",
		theme : "advanced",
		plugins : "style,table,advimage,advlink,insertdatetime,media,searchreplace,paste,fullscreen",

		// Theme options
		theme_advanced_buttons1 : "bold,italic,underline,strikethrough,justifyleft,justifycenter,justifyright,justifyfull,formatselect,fontselect,fontsizeselect",
		theme_advanced_buttons2 : "pasteword,search,replace,bullist,numlist,outdent,indent,blockquote,undo,redo,link,unlink,anchor,image,code,forecolor,backcolor",
		theme_advanced_buttons3 : "tablecontrols,hr,removeformat,visualaid,sub,sup,charmap,emotions,iespell,media,advhr,fullscreen",
		theme_advanced_buttons4 : "insertlayer,moveforward,movebackward,absolute,styleprops,cite,abbr,acronym,del,ins,attribs,visualchars,nonbreaking,template,pagebreak",
		theme_advanced_toolbar_location : "top",
		theme_advanced_toolbar_align : "left",
		//theme_advanced_statusbar_location : "bottom",
		//theme_advanced_resizing : true

		// Example content CSS (should be your site CSS)
		//content_css : "./template/fos/css/masterstyle.css"


	});
	</script>

<div class="subpage_container">
<h3 style="text-align:center">Unterseiten Editor</h3>

<form action="?site=subpage" method="POST">

<p>Unterseiten Name:</p>
<p> <input name="subpage_name" type="text" value="#!subpage_name#"  #?:edit : "DISABLED"# /></p>

<p>Template Name:</p>
<p>

#!TemplateSelector#

</p>

<hr />

<div id="SubpageData">

#!Content#

</div>

<hr />
<p><input type="submit" name="#!site#" value="#%send#" onClick=" if ($('templateSelector').value == '') { alert('Bitte ein Template wählen'); return false; }" /></p>

<input type="hidden" name="ID" value="#!ID#">
</form>

</div>

[!/Main!]

[!=TemplateSelector!]

<select name="template_name" id="templateSelector" onChange="xajax_subpageTemplateChange($('templateSelector').value);" required>
#!Templates# 
</select>

[!/TemplateSelector!]



<!--       Unterseiten          -->
[!=Menu!]

<a href="?site=subpage&new">Eine neue Unterseite erstellen</a><br>
<a href="?site=subpage&list">Liste der Vorhandenen Unterseiten</a>

[!/Menu!]


[!=List!]

    <div class="pluginContainer">

    <table border="0" width="100%">

	<tr class="pluginHeadline">
		<td>Name</td>
		<td>Template</td>
		<td width="10%" align="center"></td>
	</tr>
	
	#!Elements#

  </table>
</div>

[!/List!]

[!=List_Element!]
	<tr class="pluginLine">
		<td>#!name#</td>
		<td>#!template#</td>
		<td width="10%" align="center"><a href="?site=subpage&edit=#!name#"><img src="images/edit.gif" alt="Edit"></a><a href="?site=subpage&del=#!ID#"><img src="images/abort.gif" alt="Löschen"></a></td>
	</tr>

[!/List_Element!]




<!-- Templates der Boxen-->


[!=CheckBox!]
<p>#!name#:</p>
<p> <input type="checkbox" #!checked# name="#!ID#"/> </p>
<p></p>
[!/CheckBox!]

[!=TextBox!]
<p>#!name#:</p>
<p> <input type="text" value="#!value#" name="#!ID#"/> </p>
<p></p>

[!/TextBox!]

[!=TextArea!]
<p>#!name#:</p>
<p><textarea name="#!ID#" cols="45" rows="8">#!value#</textarea></p>
<p></p>

[!/TextArea!]

[!=ComboBox!]
<p>#!name#:</p>
<p><select name="#!ID#">#!Options#</select></p>
<p></p>
[!/ComboBox!]

[!=ComboBoxOption!]
<option value="#!ID#" #!selected#>#!value#</option>
[!/ComboBoxOption!]